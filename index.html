<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Thunderbloods</title>
    <meta name="description" content="thunderbloods music band">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
      html, body {
        margin: 0 auto;
        background-color: black;
        text-align: center;
        font-size: 18px;
      }

      @media only screen and (max-width: 1024px) {
        html, body {
          font-size: 90%;
        }
      }

      ul {
        list-style: none;
        margin: 1rem 0;
        padding: 0;
        color: #eee;
      }

      li {
        margin: 0;
        padding: 0.5rem 0;
      }

      audio {
        width: 100%;
      }

      #logo {
        margin-top: 2rem;
      }

      .song-title {
        cursor: pointer;
        text-decoration: underline;
        font-size: 1.25rem;
      }

      .song-title:hover {
        text-decoration: none;
      }

      .song-playing {
        color: #333;
      }
    </style>
  </head>
  <body>
    <img id="logo" src="img/tb_logo.gif">

    <ul id="song-container">
      <li class="song-title" data-audio-source="audio/01-rapture.mp3">01 - Rapture</li>
      <li class="song-title" data-audio-source="audio/02-ego.mp3">02 - Ego</li>
      <li class="song-title" data-audio-source="audio/03-ritual.mp3">03 - Ritual</li>
      <li class="song-title" data-audio-source="audio/04-sin.mp3">04 - Sin</li>
      <li class="song-title" data-audio-source="audio/05-intermission.mp3">05 - Intermission</li>
      <li class="song-title" data-audio-source="audio/06-free.mp3">06 - Free</li> 
    </ul>

    <audio id="audio-player" controls>
      <source id="audio-source" src="" />
      Your browser does not support the <code>audio</code> element.
    </audio>

    <script>
      (function() {
        const SONG_PLAYING = "song-playing";

        let audioPlayer = document.querySelector("#audio-player");
        let audioPlayerSource = audioPlayer.querySelector("#audio-source");

        let songContainer = document.querySelector("#song-container");
        songContainer.addEventListener("click", function(event) {
          this.querySelectorAll(".song-title").forEach(function(element) {
            element.classList.remove(SONG_PLAYING);
          });

          if (event.target && event.target.nodeName == "LI") {
            let audioSource = event.target.dataset.audioSource;
            audioPlayerSource.src = audioSource;
            audioPlayer.load();
            audioPlayer.play();

            event.target.classList.add(SONG_PLAYING);
          }
        })
      }());
    </script>
  </body>
</html>